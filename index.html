<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TestCanvas</title>
   <style>
.content {
  max-width: 500px;
  margin: auto;
  text-align: center;
}
img {
   height: auto; 
    width: auto; 
    max-width: 360px; 
    max-height: 360px;
}
 </style>
</head>
<body>
<div class="content">
  <!-- Page content -->
Столкнулся с проблемой на html5 canvas в браузерах смартфона.При повороте из ладшафтного в портретную ориентацию,размер window.innerWidth и window.innerHeight становится больше.<br>
<a href="portrait.jpg"><img src="portrait.jpg" alt=""/></a><br>
Например в портретной ориентации размеры 360x640,поворачиваю в ландшафтную,размер меняется на 720x280.<br>
<a href="landscape.jpg"><img src="landscape.jpg" alt=""/></a><br>
После поворота обратно в портретную размер уже больше,т.е 720x1280.<br>
<a href="portrait_after_landscape.jpg"><img src="portrait_after_landscape.jpg" alt=""/></a><br>
А если вернуть в ландшафтную то она не увеличивается,а такая же 720x280. Почему-то после поворотов в портретной ориентации из 360x640 он решил стать 720x1280.Можно вернуть нормальные 360x640 только после перезагрузки страницы.<br>
<a href="canvas.html">canvas</a><br>
Получается что viewport сбрасывается после смены ориентации на реальные пикселы именно на портретной.Но если взять эту страницу и отобразить через iframe,с размерами в портретной ориентации всё нормально.С чем это связанно я пока не нашёл.<br>
<a href="iframe.html">canvas in frame</a><br><br>
И ешё есть пример с кнопкой "full screen"<br>
<a href="portrait_fullscreen.jpg"><img src="portrait_fullscreen.jpg" alt=""/></a><br>
Кнопка после поворотов принимает некорректное положение.
<a href="portrait_fullscreen_after_landscape.jpg"><img src="portrait_fullscreen_after_landscape.jpg" alt=""/></a><br>
Но нормально отображается в полноэкранном виде.<br>
<a href="canvas_fullscreen.html">canvas full screen</a><br><br>
© Zanis Dukalskis 26.11.19<br>
</div>

</body>
</html>